<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Survey</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" 
        integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

</head>
<body>
    <div class = "container">
        <h2>Survey Questions</h2>
        <hr>
        <h3><strong>About You</strong></h3>
        <h4>Name (Required)</h4>
        <input type = "text" name = "" id = "name" class = "form-control" required>

        <h4>Link to a photo image (Required)</h4>
        <input type = "text" name = "" id = "photo" class = "form-control" required>

        <hr>

        <h3><strong>Question 1</strong></h3>
        <h4>A deep question about the meaning of life and so forth</h4>
            <select data-placeholder = "" class = "chosen-select" id = "q1">
                <option value = ""></option>
                <option value = "1">1 (Strongly Agree)</option>
                <option value = "2">2</option>
                <option value = "3">3</option>
                <option value = "4">4</option>
                <option value = "5">5 (Strongly Disagree)</option>

            </select>
        
        <h3><strong>Question 2</strong></h3>
        <h4>How does that make you feel?</h4>
            <select data-placeholder = "" class = "chosen-select" id = "q2">
                <option value = ""></option>
                <option value = "1">1 (Strongly Agree)</option>
                <option value = "2">2</option>
                <option value = "3">3</option>
                <option value = "4">4</option>
                <option value = "5">5 (Strongly Disagree)</option>

            </select>
        <h3><strong>Question 3</strong></h3>
        <h4>Do you want to meet someone who feels?</h4>
            <select data-placeholder = "" class = "chosen-select" id = "q3">
                <option value = ""></option>
                <option value = "1">1 (Strongly Agree)</option>
                <option value = "2">2</option>
                <option value = "3">3</option>
                <option value = "4">4</option>
                <option value = "5">5 (Strongly Disagree)</option>

            </select>
        <h3><strong>Question 4</strong></h3>
        <h4>Are you looking for a friend, or something else?</h4>
            <select data-placeholder = "" class = "chosen-select" id = "q4">
                <option value = ""></option>
                <option value = "1">1 (Strongly Agree)</option>
                <option value = "2">2</option>
                <option value = "3">3</option>
                <option value = "4">4</option>
                <option value = "5">5 (Strongly Disagree)</option>

            </select>
        <h3><strong>Question 5</strong></h3>
        <h4>How confident are you this survey can help?</h4>
            <select data-placeholder = "" class = "chosen-select" id = "q5">
                <option value = ""></option>
                <option value = "1">1 (Strongly Agree)</option>
                <option value = "2">2</option>
                <option value = "3">3</option>
                <option value = "4">4</option>
                <option value = "5">5 (Strongly Disagree)</option>

            </select>
        <h3><strong>Question 6</strong></h3>
        <h4>You are a very optimistic person</h4>
            <select data-placeholder = "" class = "chosen-select" id = "q6">
                <option value = ""></option>
                <option value = "1">1 (Strongly Agree)</option>
                <option value = "2">2</option>
                <option value = "3">3</option>
                <option value = "4">4</option>
                <option value = "5">5 (Strongly Disagree)</option>

            </select>
        <h3><strong>Question 7</strong></h3>
        <h4>You're so humble, that you're the most humble person ever</h4>
            <select data-placeholder = "" class = "chosen-select" id = "q7">
                <option value = ""></option>
                <option value = "1">1 (Strongly Agree)</option>
                <option value = "2">2</option>
                <option value = "3">3</option>
                <option value = "4">4</option>
                <option value = "5">5 (Strongly Disagree)</option>

            </select>
        <h3><strong>Question 8</strong></h3>
        <h4>You're concerned that when this is over you'll have wasted your time</h4>
            <select data-placeholder = "" class = "chosen-select" id = "q8">
                <option value = ""></option>
                <option value = "1">1 (Strongly Agree)</option>
                <option value = "2">2</option>
                <option value = "3">3</option>
                <option value = "4">4</option>
                <option value = "5">5 (Strongly Disagree)</option>

            </select>
        <h3><strong>Question 9</strong></h3>
        <h4>You think things like this are fun</h4>
            <select data-placeholder = "" class = "chosen-select" id = "q9">
                <option value = ""></option>
                <option value = "1">1 (Strongly Agree)</option>
                <option value = "2">2</option>
                <option value = "3">3</option>
                <option value = "4">4</option>
                <option value = "5">5 (Strongly Disagree)</option>

            </select>

        <h3><strong>Question 10</strong></h3>
        <h4>You feel that online dating is like standing in a butcher shop weighing the difference between the veal and the beef</h4>
            <select data-placeholder = "" class = "chosen-select" id = "q10">
                <option value = ""></option>
                <option value = "1">1 (Strongly Agree)</option>
                <option value = "2">2</option>
                <option value = "3">3</option>
                <option value = "4">4</option>
                <option value = "5">5 (Strongly Disagree)</option>

            </select>
        
        <br>
        <br>

        <button type = "submit" class = "btn btn-lg btn-primary btn-block" id = "submit">Submit</button>

        <hr>
    </div>
    
        <script type="text/javascript">
            $("#submit").on("click", function() {
                console.log("submitted")
                function validateForm () {
                    var isValid = true;
                    $("form-control").each(function(){
                        if ($(this).val === "") {
                            isValid = false;
                        }
                    });
                    
                    $("chosen-select").each(function(){
                        if ($(this).val === "") {
                            isValid = false;
                        }
                    })
                    return isValid;
                }
        
                if (validateForm) {
                    var userData = {
                    name   : $("#name").val(),
                    photo  : $("#photo").val(),
                    scores : [
                        $("#q1").val(),
                        $("#q2").val(),
                        $("#q3").val(),
                        $("#q4").val(),
                        $("#q5").val(),
                        $("#q6").val(),
                        $("#q7").val(),
                        $("#q8").val(),
                        $("#q9").val(),
                        $("#q10").val(),
                        ]
                    };
                    var currentUrl = window.location.origin;
                    $.post(currentUrl + "/api/friends", userData, function(data) {
                        console.log(userData)
                        alert("working")
                    })
                }
            });
        </script>

    <footer class = "footer">
        <div class = "container">
            <p><a href = "/api/friends">API Friends List</a> | <a href = "#">GitHub Repo</a></p>
        </div>
    </footer>   
</body>

</html>
